{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- âœ… í–„ë²„ê±° ë©”ë‰´ + ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼ ë³µì‚¬ -->
<style>
  .container {
    max-width: 960px;
    margin: 0 auto;
    padding: 40px 20px;
  }

  .hamburger-menu {
    position: fixed;
    top: 20px;
    right: 20px;
    cursor: pointer;
    z-index: 1100;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 45px;
    height: 45px;
    background-color: rgba(50, 50, 50, 0.8);
    border-radius: 8px;
    padding: 8px;
    transition: background 0.3s ease-in-out;
  }

  .hamburger-menu div {
    width: 35px;
    height: 4px;
    background-color: white;
    margin: 5px 0;
    transition: 0.4s;
  }

  .hamburger-menu:hover {
    background-color: rgba(80, 80, 80, 0.9);
  }

  .sidebar {
    width: 260px;
    height: 100vh;
    position: fixed;
    top: 0;
    right: -280px;
    background-color: #121212;
    color: white;
    padding: 20px;
    transition: right 0.4s ease-in-out;
    box-shadow: -4px 0px 10px rgba(255, 255, 255, 0.2);
    z-index: 1099;
  }

  .sidebar a {
    display: block;
    color: white;
    padding: 15px;
    text-decoration: none;
    font-size: 18px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    transition: background 0.3s;
  }

  .sidebar a:hover {
    background-color: #333;
  }

  .close-btn {
    font-size: 25px;
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
  }

  .crypto-submenu {
    display: none;
    margin-left: 10px;
  }

  .crypto-submenu.show {
    display: block;
  }

  .crypto-toggle {
    color: #bfa25a;
    font-size: 16px;
    margin-top: 10px;
    display: block;
    cursor: pointer;
    border: none;
    background: none;
    padding: 10px 0;
    font-weight: bold;
    text-align: left;
  }

  .show-sidebar {
    right: 0;
  }

  .sidebar strong {
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
  }
</style>


<!-- âœ… ì›ë˜ Target ì½˜í…ì¸  ìœ ì§€ -->
<!-- MathJax ì ìš© -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<div class="container">
  <!-- ğŸ”¶ Simple Quant Labs ìƒë‹¨ íƒ€ì´í‹€ -->
  <h1 style="margin-top: 20px; text-align: left;">
    <a href="{% url 'home-page' %}" style="color: #bfa25a; text-decoration: none;">Simple Quant Labs</a>
  </h1>

  <div class="analysis-container" style="margin-top: 40px;">
    <h3 style="color: #bfa25a;">Random Walk</h3>
    <p style="color: black;">
      Naive forecastëŠ” \( y_t \)ëŠ” ë¹„ì •ìƒ (non-stationary) ì‹œê³„ì—´ì´ì§€ë§Œ, \( y_t - y_{t-1} \) ì´ ì •ìƒ ì‹œê³„ì—´ì¼ ë•Œ ì‚¬ìš©í•˜ëŠ” ëª¨í˜•ì…ë‹ˆë‹¤.
      ì´ ì°¨ë¶„(differencing)ì€ ì‹œê³„ì—´ì´ 1ì°¨ ì¶”ì„¸(trend)ë¥¼ ê°€ì§ˆ ë•Œ ë¹„ì •ìƒì„±ì„ ì œê±°í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.
    </p>

    <p style="color: black;">ì¦‰,</p>
    <p style="text-align: center; color: black">
      $$ y_t = y_{t-1} + \varepsilon_t $$
    </p>

    <p style="color: black;">
      ìœ„ ëª¨í˜•ì—ì„œ \( y_t - y_{t-1} \)ëŠ” í‰ê· ì´ 0ì¸ white noiseë¥¼ ë”°ë¥¸ë‹¤ê³  ê°€ì •í•˜ë©°, ì´ëŸ¬í•œ ê³¼ì •ì„ <strong>random walk</strong>ë¼ê³  í•©ë‹ˆë‹¤.
      ë”°ë¼ì„œ ì¡°ê±´ë¶€ ê¸°ëŒ“ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
    </p>

    <p style="text-align: center; color: black">
      $$ E(y_t \mid y_{t-1}) = y_{t-1} $$
    </p>

    <p style="color: black;">
      ì´ëŠ” \( y_t \)ì˜ ê°€ì¥ ì¢‹ì€ ì˜ˆì¸¡ì¹˜ëŠ” ë°”ë¡œ ì´ì „ ì‹œì  ê°’ \( y_{t-1} \)ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤.
      ë¯¸ë˜ h ì‹œì  ì˜ˆì¸¡ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, ì´ë¥¼ <strong>naive forecast</strong>ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤:
    </p>

    <p style="text-align: center; color: black">
      $$ \hat y_{T+h \mid T} = y_T \quad \text{for } h = 1, 2, ..., l $$
    </p>

    <hr style="border-color: rgba(255,255,255,0.1); margin: 30px 0;">

    <h4 style="color: #bfa25a;">ê³„ì ˆì„± ì‹œê³„ì—´ì˜ naive ì˜ˆì¸¡ (Seasonal Naive Forecast)</h4>
    <p style="color: black;">
      ì‹œê³„ì—´ ë°ì´í„°ê°€ seasonalityë¥¼ ê°€ì§€ëŠ” ê²½ìš°, ì˜ˆì¸¡ê°’ì€ ê³¼ê±° ë™ì¼ ì£¼ê¸°ì˜ ê°’ì„ ì°¸ê³ í•˜ì—¬ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      ì˜ˆë¥¼ ë“¤ì–´ ì£¼ê°„ seasonalityë¥¼ ê°€ì§„ ì¼ì¼ ë°ì´í„°ë¼ë©´, ì˜¤ëŠ˜ì˜ ê°’ì€ 7ì¼ ì „ì˜ ê°’ì— ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤.
    </p>

    <p style="color: black;">
      seasonalityì˜ ì£¼ê¸° \( m \)ì— ëŒ€í•´ ë‹¤ìŒì²˜ëŸ¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
    </p>

    <ul style="color: black;">
      <li>Weekly seasonality â†’ \( m = 7 \)</li>
      <li>Monthly seasonality â†’ \( m = 30.4 \)</li>
      <li>Yearly seasonality â†’ \( m = 365.25 \)</li>
    </ul>

    <p style="text-align: center; color: black;">
      $$ y_t = y_{t-m} + \varepsilon_t $$
    </p>

    <p style="color: black;">
      \( y_t - y_{t-m} \)ê°€ í‰ê·  0ì¸ white noiseë¼ë©´, ê°€ì¥ ì¢‹ì€ ì˜ˆì¸¡ê°’ì€ \( y_{t-m} \)ì…ë‹ˆë‹¤.
      ì´ëŸ¬í•œ ëª¨í˜•ì„ <strong>seasonal random walk</strong>ë¼ê³  í•©ë‹ˆë‹¤.
    </p>

    <hr style="border-color: rgba(255,255,255,0.1); margin: 30px 0;">

    <h4 style="color: #bfa25a;">Driftë¥¼ ê°€ì§„ Random Walk</h4>
    <p style="color: black;">
      ë§Œì•½ \( y_t - y_{t-1} \)ì˜ í‰ê· ì´ 0ì´ ì•„ë‹ˆë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„ë©ë‹ˆë‹¤:
    </p>

    <p style="text-align: center; color: black;">
      $$ y_t - y_{t-1} = \theta + \varepsilon_t \quad \Rightarrow \quad y_t = y_{t-1} + \theta + \varepsilon_t $$
    </p>

    <p style="color: black;">
      ì´ë•Œ \( y_t \)ëŠ” ëšœë ·í•œ ì„ í˜• ì¶”ì„¸ë¥¼ ê°€ì§€ë©°, ì´ë¥¼ <strong>random walk with drift</strong>ë¼ê³  í•©ë‹ˆë‹¤.
    </p>

    <hr style="border-color: rgba(255,255,255,0.1); margin: 30px 0;">

    <h4 style="color: #bfa25a;">ğŸ’» Dartsë¡œ êµ¬í˜„í•˜ëŠ” ì˜ˆì¸¡</h4>
    <p style="color: black;">ë‹¤ìŒì€ Darts ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•œ ì‹¤ìŠµ ì˜ˆì œì…ë‹ˆë‹¤:</p>

    <pre style="background:#222; color:#eee; padding:15px; border-radius:8px; overflow-x:auto;">
    from darts.datasets import AirPassengersDataset
    import pandas as pd
    from darts.models import NaiveSeasonal

    series = AirPassengersDataset().load()
    series.plot()
    train, val = series.split_before(pd.Timestamp("19580101"))

    naive_model = NaiveSeasonal(K=1)
    naive_model.fit(train)
    naive_forecast = naive_model.predict(36)
    series.plot(label="actual")
    naive_forecast.plot(label="naive forecast (K=1)")
    </pre>

    <div style="text-align: center; margin: 25px 0;">
      <img src="{% static 'naive_img1.png' %}" alt="Naive Forecast Result" style="max-width: 100%; width: 600px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
    </div>


    <p style="color: black">â†’ í•™ìŠµ ë°ì´í„°ì˜ ë§ˆì§€ë§‰ ê°’ì„ ë°˜ë³µí•˜ì—¬ ì˜ˆì¸¡í•˜ë¯€ë¡œ ë‹¨ìˆœí•˜ì§€ë§Œ baselineìœ¼ë¡œ ì í•©í•©ë‹ˆë‹¤.</p>

    <h5 style="margin-top:20px; color: #00ccff;">âœ… Seasonal Naive ì˜ˆì¸¡ (K=12)</h5>

    <pre style="background:#222; color:#eee; padding:15px; border-radius:8px; overflow-x:auto;">
    seasonal_model = NaiveSeasonal(K=12)
    seasonal_model.fit(train)
    seasonal_forecast = seasonal_model.predict(36)
    series.plot(label="actual")
    seasonal_forecast.plot(label="naive forecast (K=12)")
    </pre>

    <div style="text-align: center; margin: 25px 0;">
      <img src="{% static 'naive_img2.png' %}" alt="Naive Forecast Result 2" style="max-width: 100%; width: 600px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
    </div>

    <p style="color: black;">â†’ í•™ìŠµ ë°ì´í„° ë§ˆì§€ë§‰ 12ê°œë¥¼ 3ë²ˆ ë°˜ë³µí•˜ì—¬ ì˜ˆì¸¡. ì„±ëŠ¥ ê°œì„ ë¨.</p>

    <h5 style="margin-top:20px; color: #ff9999;">ğŸ“ˆ Drift í¬í•¨í•œ Random Walk</h5>

    <pre style="background:#222; color:#eee; padding:15px; border-radius:8px; overflow-x:auto;">
    from darts.models import NaiveDrift
    drift_model = NaiveDrift()
    drift_model.fit(train)
    drift_forecast = drift_model.predict(36)
    combined_forecast = drift_forecast + seasonal_forecast - train.last_value()
    series.plot()
    combined_forecast.plot(label="combined")
    drift_forecast.plot(label="drift")
    </pre>

    <div style="text-align: center; margin: 25px 0;">
      <img src="{% static 'naive_img3.png' %}" alt="Naive Forecast Result 3" style="max-width: 100%; width: 600px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
    </div>

    <p style="color: black;">â†’ ë‹¨ìˆœ ì„ í˜•íšŒê·€ì²˜ëŸ¼ ë™ì‘í•˜ë©°, drift + seasonality ì¡°í•©ì´ ë” ì¢‹ì€ ê²°ê³¼ë¥¼ ëƒ…ë‹ˆë‹¤.</p>
  </div>

</div>

<!-- âœ… í–„ë²„ê±° í† ê¸€ Script -->
<script>
</script>

{% endblock %}
