{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- âœ… MathJax for LaTeX -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<div class="container">
  <h1 style="margin-top: 20px; text-align: left;">
    <a href="{% url 'home-page' %}" style="color: #bfa25a; text-decoration: none;">Simple Quant Labs</a>
  </h1>

  <div class="analysis-container" style="margin-top: 40px;">
    <h3 style="color: #bfa25a;">ğŸ“Š Exponential Smoothing</h3>
    <p style="color: black;">
      ì‹œê³„ì—´ \( y_t, y_{t-1}, \ldots, y_1 \)ì´ ì£¼ì–´ì¡Œì„ ë•Œ, \( y_{t+1} \)ì˜ ì˜ˆì¸¡ì¹˜ë¥¼ \( y_{t+1|t} \)ë¡œ í‘œê¸°í•©ë‹ˆë‹¤.
      <br>
      <strong>Random walk</strong>ì˜ ê²½ìš°:
    </p>

    <p style="text-align: center; color: black">
      $$ y_{t+1} = y_t + \varepsilon_{t+1} \Rightarrow y_{t+1|t} = y_t $$
    </p>

    <p style="color: black;">
      ì¦‰, ì˜ˆì¸¡ì— ì˜¤ì§ \( y_t \)ë§Œì„ ì‚¬ìš©í•˜ë©° ë‚˜ë¨¸ì§€ ê³¼ê±° ê´€ì¸¡ì¹˜ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
      ë°˜ë©´, <strong>í‰ê·  ëª¨í˜•</strong>ì—ì„œëŠ”:
    </p>

    <p style="text-align: center; color: black">
      $$ y_{t+1} = \mu + \varepsilon_t \Rightarrow y_{t+1|t} = \frac{1}{t} \sum_{i=1}^t y_i $$
    </p>

    <p style="color: black;">
      ì¦‰, ì „ì²´ ê³¼ê±° ë°ì´í„°ë¥¼ ë™ì¼í•œ ê°€ì¤‘ì¹˜ë¡œ í‰ê· í•˜ì—¬ ì˜ˆì¸¡í•©ë‹ˆë‹¤.
    </p>

    <hr style="border-color: rgba(255,255,255,0.1); margin: 30px 0;">

    <h4 style="color: #bfa25a;">ğŸ“Œ Exponential Smoothing ê¸°ë³¸ ì•„ì´ë””ì–´</h4>
    <p style="color: black;">
      <strong>Exponential Smoothing</strong>ì€ ê³¼ê±°ë¡œ ê°ˆìˆ˜ë¡ <strong>ê°€ì¤‘ì¹˜ê°€ ì§€ìˆ˜ì ìœ¼ë¡œ ê°ì†Œ</strong>í•˜ëŠ” ë°©ì‹ì˜ í‰ê· ìœ¼ë¡œ ì˜ˆì¸¡í•©ë‹ˆë‹¤:
    </p>

    <p style="text-align: center; color: black">
      $$ y_{t+1} = \alpha y_t + \alpha(1-\alpha)y_{t-1} + \alpha(1-\alpha)^2 y_{t-2} + \ldots + \alpha(1-\alpha)^t y_0 $$
    </p>

    <p style="color: black;">
      ì—¬ê¸°ì„œ \( 0 < \alpha < 1 \), \( \alpha \)ëŠ” <strong>ì´ˆë§¤ê°œë³€ìˆ˜ (hyperparameter)</strong>ë¡œ ì˜ˆì¸¡ ì„±ëŠ¥(MSE ë“±)ì„ ê¸°ì¤€ìœ¼ë¡œ íŠœë‹ë©ë‹ˆë‹¤.
    </p>

    <p style="color: black;">
      êµê³¼ì„œì—ì„œëŠ” ë‹¤ìŒ ì¬ê·€ì‹ìœ¼ë¡œë„ í‘œí˜„ë©ë‹ˆë‹¤:
    </p>

    <p style="text-align: center; color: black">
      $$ l_t = \alpha y_t + (1-\alpha) l_{t-1} $$
    </p>

    <p style="color: black;">
      ì´ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì „ê°œí•˜ë©´ ê²°êµ­:
    </p>

    <p style="text-align: center; color: black">
      $$ l_t = \alpha y_t + \alpha(1-\alpha)y_{t-1} + \alpha(1-\alpha)^2 y_{t-2} + \ldots + \alpha(1-\alpha)^t l_0 $$
    </p>

    <p style="color: black;">
      \( l_0 = y_0 \)ë¡œ ë‘ë©´ ê¸°ì¡´ì˜ ì§€ìˆ˜í‰í™œ ìˆ˜ì‹ê³¼ ë™ì¼í•˜ê²Œ ë©ë‹ˆë‹¤.
      ì˜ˆì¸¡ê°’ì€ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜ë©ë‹ˆë‹¤:
    </p>

    <p style="text-align: center; color: black">
      $$ y_{t+1|t} = l_t $$
    </p>

    <p style="color: black;">
      ë”°ë¼ì„œ, ìµœê·¼ ê°’ì¼ìˆ˜ë¡ ë” í° ì˜í–¥ì„ ì£¼ëŠ” í‰ê· ì„ ì´ìš©í•´ ë‹¤ìŒ ì‹œì ì„ ì˜ˆì¸¡í•˜ëŠ” ë°©ì‹ì´ë©°, <strong>ì¶”ì„¸ë‚˜ ê³„ì ˆì„±ì´ ì—†ëŠ” ì‹œê³„ì—´</strong>ì— ì í•©í•©ë‹ˆë‹¤.
    </p>

    <hr style="border-color: rgba(255,255,255,0.1); margin: 30px 0;">

    <h4 style="color: #bfa25a;">ğŸ’» Python ì˜ˆì œ (BTC ì‹œê³„ì—´ ì˜ˆì¸¡)</h4>

    <pre style="background:#222; color:#eee; padding:15px; border-radius:8px; overflow-x:auto;">
import ccxt
import pandas as pd
from statsmodels.tsa.holtwinters import SimpleExpSmoothing

exchange = ccxt.mexc()
symbol = 'BTC/USDT'
timeframe = '1h'
ohlcv = exchange.fetch_ohlcv(symbol, timeframe=timeframe, limit=200)

# OHLCV to DataFrame
df = pd.DataFrame(ohlcv, columns=['timestamp', 'open', 'high', 'low', 'close', 'volume'])
df['datetime'] = pd.to_datetime(df['timestamp'], unit='ms')

close_prices = df['close']
model = SimpleExpSmoothing(close_prices)
fit_model = model.fit(smoothing_level=0.3, optimized=False)

forecast = fit_model.forecast(1)
print(f"\U0001F4C8 ìµœê·¼ ê°€ê²©: {close_prices.iloc[-1]}")
print(f"\U0001F52E ì˜ˆì¸¡ëœ ë‹¤ìŒ ê°€ê²©: {forecast.iloc[0]}")
    </pre>

    <p style="color: black;">â†’ \( \alpha = 0.3 \)ìœ¼ë¡œ ì„¤ì •í•œ ë‹¨ìˆœ ì§€ìˆ˜í‰í™œë²• ëª¨ë¸ì„ í†µí•´, ìµœê·¼ ë¹„íŠ¸ì½”ì¸ ê°€ê²© ê¸°ë°˜ ì˜ˆì¸¡ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>
  </div>
</div>

{% endblock %}
